exports.id=816,exports.ids=[816],exports.modules={1256:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{Z:()=>p});var n=r(997),o=r(6689),s=r.n(o),l=r(1163),i=r(6197),c=r(7166),d=e([i,c]);[i,c]=d.then?(await d)():d;let u=[{name:"Home",href:"/dashboard",icon:c.House},{name:"Schedule",href:"/dashboard/schedule",icon:c.Calendar},{name:"Grades",href:"/dashboard/grades",icon:c.GraduationCap},{name:"Homework",href:"/dashboard/homework",icon:c.Notepad},{name:"Attendance",href:"/dashboard/attendance",icon:c.ClockCounterClockwise},{name:"Profile",href:"/dashboard/profile",icon:c.User}],p=()=>{let e=(0,l.useRouter)();s().useEffect(()=>{console.log("Current path:",e.pathname)},[e.pathname]);let t=e=>t=>{t.preventDefault(),window.location.href=e};return n.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 blur-backdrop py-1 shadow-elevation",children:n.jsx("nav",{className:"max-w-screen-lg mx-auto px-2",children:n.jsx("ul",{className:"flex justify-around items-center",children:u.map(r=>{let a=e.pathname===r.href||"/dashboard"!==r.href&&e.pathname.startsWith(r.href);return n.jsx("li",{className:"relative",children:(0,n.jsxs)("a",{href:r.href,className:`nav-item flex flex-col items-center p-2 ${a?"text-primary":"text-text-secondary"}`,onClick:t(r.href),children:[(0,n.jsxs)("span",{className:"relative",children:[n.jsx(r.icon,{size:24,weight:a?"fill":"regular"}),a&&n.jsx(i.motion.span,{className:"absolute -bottom-1 left-1/2 w-1 h-1 bg-primary rounded-full",layoutId:"bottomNavIndicator",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}})]}),n.jsx("span",{className:"text-xs mt-1 font-medium",children:r.name})]})},r.name)})})})})};a()}catch(e){a(e)}})},637:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{Z:()=>i});var n=r(997);r(6689);var o=r(1256),s=r(6197),l=e([o,s]);[o,s]=l.then?(await l)():l;let i=({children:e,title:t})=>(0,n.jsxs)("div",{className:"min-h-screen flex flex-col bg-background pb-20",children:[t&&n.jsx("header",{className:"sticky top-0 z-40 blur-backdrop py-4 shadow-sm",children:n.jsx("div",{className:"max-w-screen-lg mx-auto px-4",children:n.jsx("h1",{className:"text-2xl font-mono font-bold text-text-primary",children:t})})}),n.jsx(s.motion.main,{className:"flex-grow flex flex-col",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2,ease:"easeInOut"},children:n.jsx("div",{className:"max-w-screen-lg mx-auto px-4 py-4 w-full",children:e})}),n.jsx(o.Z,{})]});a()}catch(e){a(e)}})},9553:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{Z:()=>l});var n=r(997);r(6689);var o=r(6197),s=e([o]);o=(s.then?(await s)():s)[0];let l=({children:e,className:t="",onClick:r,withHover:a=!0})=>n.jsx(o.motion.div,{className:`card ${a?"hover:shadow-elevation hover:-translate-y-1":""} ${t}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},onClick:r,whileHover:a?{scale:1.02}:void 0,whileTap:a?{scale:.98}:void 0,children:e});a()}catch(e){a(e)}})},4188:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{Z:()=>l});var n=r(997);r(6689);var o=r(7166),s=e([o]);o=(s.then?(await s)():s)[0];let l=({message:e,onRetry:t})=>(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center p-6 bg-surface/50 rounded-xl",children:[n.jsx(o.Warning,{size:48,weight:"duotone",className:"text-red-500 mb-3"}),n.jsx("h3",{className:"text-xl font-mono font-bold text-text-primary mb-2",children:"Error"}),n.jsx("p",{className:"text-text-secondary text-center mb-4",children:e}),t&&n.jsx("button",{onClick:t,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors",children:"Retry"})]});a()}catch(e){a(e)}})},2433:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{Z:()=>i});var n=r(997);r(6689);var o=r(6197),s=e([o]);o=(s.then?(await s)():s)[0];let l={primary:"border-primary",accent:"border-accent",white:"border-white"},i=({size:e="medium",color:t="primary",text:r="Loading..."})=>(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center p-4",children:[n.jsx(o.motion.div,{className:`rounded-full border-2 border-t-transparent ${{small:"w-4 h-4",medium:"w-8 h-8",large:"w-12 h-12"}[e]} ${l[t]}`,animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),r&&n.jsx("p",{className:"mt-2 text-text-secondary font-mono text-sm",children:r})]});a()}catch(e){a(e)}})},4803:(e,t,r)=>{"use strict";r.d(t,{l:()=>l,z:()=>i});var a=r(997),n=r(6689),o=r(8992);let s=(0,n.createContext)(void 0),l=({children:e})=>{let[t,r]=(0,n.useState)(null);return(0,n.useEffect)(()=>{let e=(0,o.is)();e.apiap&&r(e.apiap)},[]),a.jsx(s.Provider,{value:{apiap:t,setApiap:e=>{r(e)},clearApiap:()=>{r(null)},getAuthHeaders:()=>{let e={"Content-Type":"application/json"};return t&&(e["X-APIAP"]=t),e}},children:e})},i=()=>{let e=(0,n.useContext)(s);if(void 0===e)throw Error("useApiap must be used within an ApiapProvider");return e}},7855:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{EO:()=>l,d$:()=>i,tm:()=>c});var n=r(6689),o=r(9648),s=e([o]);o=(s.then?(await s)():s)[0];let l=(e,t)=>{let[r,a]=(0,n.useState)([]),[s,l]=(0,n.useState)(!0),[i,c]=(0,n.useState)(null);return(0,n.useEffect)(()=>{(async()=>{l(!0),c(null);try{let r;let n="";switch(e){case"lessons":if(!t)throw Error("Date range is required for lessons");n=`/api/vulcan/lessons?startDate=${t.startDate}&endDate=${t.endDate}`,console.log(`[DEBUG] Fetching lessons: ${n}`),r=await o.default.get(n);break;case"exams":if(!t)throw Error("Date range is required for exams");n=`/api/vulcan/exams?startDate=${t.startDate}&endDate=${t.endDate}`,console.log(`[DEBUG] Fetching exams: ${n}`),r=await o.default.get(n);break;case"attendance":if(!t)throw Error("Date range is required for attendance");n=`/api/vulcan/attendance?startDate=${t.startDate}&endDate=${t.endDate}`,console.log(`[DEBUG] Fetching attendance: ${n}`),r=await o.default.get(n);break;case"grades":n="/api/vulcan/grades",console.log(`[DEBUG] Fetching grades: ${n}`),r=await o.default.get(n);break;case"homework":if(!t)throw Error("Date range is required for homework");n=`/api/vulcan/homework?startDate=${t.startDate}&endDate=${t.endDate}`,console.log(`[DEBUG] Fetching homework: ${n}`),r=await o.default.get(n);break;default:throw Error(`Unsupported data type: ${e}`)}console.log(`[DEBUG] API response for ${e}:`,r),r.data&&Array.isArray(r.data)?a(r.data):r.data&&r.data.Envelope&&Array.isArray(r.data.Envelope)?(console.log(`[DEBUG] Extracted array from Envelope for ${e}`),a(r.data.Envelope)):(console.warn(`[DEBUG] Unexpected API response format for ${e}:`,r.data),a([]))}catch(t){console.error(`[DEBUG] Error fetching ${e} data:`,t),console.error("[DEBUG] Error details:",t.response?.data||t.message),c(Error(t.response?.data?.error||t.message||`Failed to fetch ${e} data`))}finally{l(!1)}})()},[e,t?.startDate,t?.endDate]),{data:r,isLoading:s,error:i}},i=e=>{let t=(()=>{let t=new Date,r=t.getDay(),a=new Date(t);a.setDate(t.getDate()-(0===r?6:r-1)),a.setHours(0,0,0,0);let n=new Date(a);n.setDate(a.getDate()+6),n.setHours(23,59,59,999);let o=new Date(a);o.setDate(a.getDate()-7);let s=new Date(n);s.setDate(n.getDate()+7);let l={startDate:o.toISOString().split("T")[0],endDate:s.toISOString().split("T")[0]};return console.log(`[DEBUG] ${e} - Requesting data for extended date range:`,l),l})(),r=l(e,t);return r.data?console.log(`[DEBUG] ${e} - Received ${r.data.length} items from API`):r.error?console.error(`[DEBUG] ${e} - API Error:`,r.error):console.log(`[DEBUG] ${e} - Loading data...`),r},c=e=>{let t=(()=>{let t=new Date,r=new Date(t.getFullYear(),t.getMonth(),t.getDate());console.log(`[DEBUG] ${e} - Requesting data for extended date range:`,r);let a=new Date(t.getFullYear(),t.getMonth(),t.getDate());return console.log(`[DEBUG] ${e} - Requesting data for extended date range:`,a),console.log(r.getFullYear()+"-"+String(r.getMonth()+1).padStart(2,"0")+"-"+String(r.getDate()).padStart(2,"0")),console.log(a.getFullYear()+"-"+String(a.getMonth()+1).padStart(2,"0")+"-"+String(a.getDate()).padStart(2,"0")),{startDate:r.getFullYear()+"-"+String(r.getMonth()+1).padStart(2,"0")+"-"+String(r.getDate()).padStart(2,"0"),endDate:a.getFullYear()+"-"+String(a.getMonth()+1).padStart(2,"0")+"-"+String(a.getDate()).padStart(2,"0")}})();return l(e,t)};a()}catch(e){a(e)}})},8992:(e,t,r)=>{"use strict";r.d(t,{gt:()=>a,is:()=>n,lr:()=>s,o0:()=>o});let a=(e,t,r)=>{},n=()=>({apiap:null,name:null,email:null}),o=()=>{},s=()=>!1},581:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{Wq:()=>h,_j:()=>f,e9:()=>m,ji:()=>p,mr:()=>u,p6:()=>c,sG:()=>i});var n=r(5550),o=r(3565),s=r(4711),l=e([s]);s=(l.then?(await l)():l)[0];let i=e=>{if(!e)return null;if("string"==typeof e)try{return(0,n.D)(e)}catch(e){return console.error("Failed to parse date string:",e),null}if(e instanceof Date)return e;if("object"==typeof e)try{let t=e.Year||e.year,r=(e.Month||e.month)-1,a=e.Day||e.day;if(t&&void 0!==r&&a)return new Date(t,r,a)}catch(e){console.error("Failed to parse date object:",e)}return null},c=(e,t="dd.MM.yyyy")=>{if(!e)return"N/A";let r=i(e);if(!r)return"N/A";try{return(0,o.WU)(r,t,{locale:s.enUS})}catch(e){return console.error("Error formatting date:",e),"N/A"}},d=e=>{if(!e)return null;if("string"==typeof e)try{return(0,n.D)(e)}catch(e){return console.error("Failed to parse time string:",e),null}if("object"==typeof e)try{let t=e.Hour||e.hour||0,r=e.Minute||e.minute||0,a=new Date;return a.setHours(t,r,0,0),a}catch(e){console.error("Failed to parse time object:",e)}return null},u=e=>{if(!e)return"N/A";let t=d(e);if(!t)return"N/A";try{return(0,o.WU)(t,"HH:mm")}catch(e){return console.error("Error formatting time:",e),"N/A"}},p=e=>{if(!e)return"N/A";let t=i(e);if(!t)return"N/A";try{return(0,o.WU)(t,"EEEE",{locale:s.enUS})}catch(e){return console.error("Error getting day of week:",e),"N/A"}},m=e=>{if(!e)return"N/A";if(e.Content){let t="object"==typeof e.Content&&null!==e.Content?JSON.stringify(e.Content):String(e.Content),r="";return(e.Comment&&(r="object"==typeof e.Comment&&null!==e.Comment?JSON.stringify(e.Comment):String(e.Comment)),r.trim())?`${t} (${r})`:t}return e.ContentRaw?"object"==typeof e.ContentRaw&&null!==e.ContentRaw?JSON.stringify(e.ContentRaw):String(e.ContentRaw):null!==e.Value&&void 0!==e.Value?"object"==typeof e.Value&&null!==e.Value?JSON.stringify(e.Value):String(e.Value):"N/A"},h=e=>{if(!e)return"text-text-secondary";let t="string"==typeof e?parseFloat(e):e;return isNaN(t)?"text-text-secondary":t<=1.5?"text-red-500":t<=2.5?"text-orange-500":t<=3.5?"text-yellow-500":t<=4.5?"text-green-400":"text-green-500"},f=e=>{if(!e)return{status:"N/A",color:"text-text-secondary"};let t=-1;if(e.PresenceType){if("object"==typeof e.PresenceType&&null!==e.PresenceType&&"number"==typeof e.PresenceType.Id){if((t=e.PresenceType.Id)>1e3){if(1228===t)return{status:"Present",color:"text-green-500"};if(1229===t)return{status:"Absent",color:"text-red-500"};if(1231===t)return{status:"Present",color:"text-green-500"}}}else"number"==typeof e.PresenceType&&(t=e.PresenceType)}else"number"==typeof e.presenceTypeId?t=e.presenceTypeId:e.presenceType&&("present"===e.presenceType?t=0:"absent"===e.presenceType?t=1:"late"===e.presenceType?t=2:"excused"===e.presenceType&&(t=3));switch(t){case 0:return{status:"Present",color:"text-green-500"};case 1:return{status:"Absent",color:"text-red-500"};case 2:return{status:"Late",color:"text-orange-500"};case 3:return{status:"Excused",color:"text-blue-500"};default:return{status:"Unknown",color:"text-text-secondary"}}};a()}catch(e){a(e)}})},8475:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var a=r(997),n=r(6689),o=r(1163),s=r(8992);function l(e){let t=t=>{let r=(0,o.useRouter)();return(0,n.useEffect)(()=>{(0,s.lr)()||r.push("/").then(()=>{window.location.reload()})},[r]),a.jsx(e,{...t})},r=e.displayName||e.name||"Component";return t.displayName=`WithAuth(${r})`,t}},6814:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>d});var n=r(997),o=r(6689);r(6764);var s=r(6197),l=r(1175),i=r(4803),c=e([s]);s=(c.then?(await c)():c)[0];let u=new l.QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}});function d({Component:e,pageProps:t,router:r}){return n.jsx(l.QueryClientProvider,{client:u,children:n.jsx(i.l,{children:n.jsx(s.AnimatePresence,{mode:"wait",initial:!0,children:(0,o.createElement)(e,{...t,key:r.route})})})})}a()}catch(e){a(e)}})},7645:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var a=r(997),n=r(6859),o=r.n(n);class s extends o(){static async getInitialProps(e){return{...await o().getInitialProps(e)}}render(){return(0,a.jsxs)(n.Html,{lang:"en",children:[(0,a.jsxs)(n.Head,{children:[a.jsx("meta",{name:"application-name",content:"Dark Tide Journal"}),a.jsx("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),a.jsx("meta",{name:"apple-mobile-web-app-status-bar-style",content:"default"}),a.jsx("meta",{name:"apple-mobile-web-app-title",content:"Dark Tide Journal"}),a.jsx("meta",{name:"description",content:"Dark Tide Journal Progressive Web App"}),a.jsx("meta",{name:"format-detection",content:"telephone=no"}),a.jsx("meta",{name:"mobile-web-app-capable",content:"yes"}),a.jsx("meta",{name:"theme-color",content:"#000000"}),a.jsx("link",{rel:"manifest",href:"/manifest.json"}),a.jsx("link",{rel:"apple-touch-icon",href:"/icons/icon-192x192.png"}),a.jsx("link",{rel:"apple-touch-icon",sizes:"152x152",href:"/icons/apple-touch-icon.png"}),a.jsx("link",{rel:"apple-touch-icon",sizes:"180x180",href:"/icons/apple-touch-icon-180x180.png"}),a.jsx("link",{rel:"shortcut icon",href:"/favicon.ico"})]}),(0,a.jsxs)("body",{children:[a.jsx(n.Main,{}),a.jsx(n.NextScript,{})]})]})}}let l=s},6764:()=>{}};